/***************************************************************************
   ***********               REQUIRE Mongoose                 ************
   *********************************************************************** 
****************************************************************************/
const mongoose = require('mongoose');
/***************************************************************************
   ***********               End of REQUIRE Mongoose          ************
   *********************************************************************** 
****************************************************************************/

/***************************************************************************
   *****                REQUIRE Passport local mongoose              *****
   *********************************************************************** 
****************************************************************************/
const passportLocalMongoose = require('passport-local-mongoose');
/***************************************************************************
   *****           End of REQUIRE Passport local mongoose            *****
   *********************************************************************** 
****************************************************************************/

/***************************************************************************
   *****      Create a Variable for the Mongoose Schema to use       *****
   *********************************************************************** 
****************************************************************************/
const Schema = mongoose.Schema; //THIS IS TO HAVE A REFERENCE TO THE SCHEMA
/***************************************************************************
   *****  End of Create a Variable for the Mongoose Schema to use    *****
   *********************************************************************** 
****************************************************************************/

/***************************************************************************
    ***********       Create the Mongoose Schema to use        ***********  
   *********************************************************************** 
****************************************************************************/
const userSchema = new Schema({
    email: {
        type: String,
        required: true,
        unique: true
    }
});

     /***********************************************
      *  Use: .plugin(passportLocalMongoose) to
      *   add passport to the user schema
      * 
      * Doing this means the username and password fields
      *  for tht user will be automatically added by
      *  passport
      * 
      * passport will make sure the username are unique and not duplicated
      * and also provides additional methods that you can use 
     ************************************************/
userSchema.plugin(passportLocalMongoose);
/***************************************************************************
    ***********   End of Create the Mongoose Schema to use     ***********  
   *********************************************************************** 
****************************************************************************/

/***************************************************************************
    ***********     Create a Model with the Schema created     *********** 
                    AND export the Model 
   *********************************************************************** 
****************************************************************************/
module.exports = mongoose.model('User', userSchema);
/***************************************************************************
    *****       End of Create a Model with the Schema created       *****  
   *********************************************************************** 
****************************************************************************/

